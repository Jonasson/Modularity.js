<!DOCTYPE html>
<html>
<head>

  <title>jsMod.Controller-tests</title>
  <link rel="stylesheet" type="text/css" href="qunit.css"/>

  <script src="scripts/lib/qunit.js"></script>
  <script src="scripts/lib/jquery.js"></script>
  <script src="scripts/lib/underscore.js"></script>
  <script src="scripts/lib/backbone.js"></script>
  <script src="scripts/lib/require.js"></script>

  <script>

    require([
        "scripts/Modularity",
        "scripts/Modularity.JsHref"
      ],

      function(Modularity){

        require.ready(function(){

          var modularity = new Modularity({ context: $("#qunit-fixture").get(0) });
          modularity.parseContext();
          modularity.activateModules();

          window.Modularity = Modularity;
          window.modularity = modularity;

          test("The href attribute is updated", function(){
            var href = $(modularity.modules["link:js-href"].element).attr("href")
            equals(href, "#about");
          });

        });
      }
    );

  </script>

</head>

<body>

  <h1 id="qunit-header">Modularity.Controller-tests</h1>
  <p>
    Tests Controller functionality.
  </p>

  <h2 id="qunit-banner"></h2>
  <div id="qunit-testrunner-toolbar"></div>
  <h2 id="qunit-userAgent"></h2>
  <ol id="qunit-tests"></ol>

  <div id="qunit-fixture">
    <a id="link" href="about" data-js-href=" 'href' : '#about' ">About</a>
  </div>

</body>
</html>